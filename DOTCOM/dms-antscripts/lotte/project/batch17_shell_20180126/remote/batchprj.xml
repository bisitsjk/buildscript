<?xml version="1.0" encoding="UTF-8"?>
<project name="batch was test deploy" default="help">
	<!-- ================================================== -->
	<!-- properties -->
	<!-- ================================================== -->
	<property name="dep.id" value="${DEPLOY_ID}" />

	<property name="source.dir" value="/usr1/home/jeus/deploy/src/${dep.id}" />
	<property name="java.home" value="/usr/java1.6" />
	<property name="ant.home" value="/usr1/home/jeus/deploy/apache-ant-1.8.2" />
	<property name="docroot" value="/h2010" />
	<property name="docroot.fo" value="/h2010/fo_tomcat" />
	<property name="docroot.mo" value="/h2010/mo_tomcat" />
	<property name="docroot.bo" value="/h2010/bo_tomcat" />
	<property name="docroot.cc" value="/h2010/cc_tomcat" />
	<property name="docroot.oa" value="/h2010/oa_tomcat" />
	<property name="docroot.po" value="/h2010/po_tomcat" />
	<property name="docroot.gl" value="/h2010/gl_tomcat" />
	<property name="docroot.mcgl" value="/h2010/mcgl_tomcat" />
	<property name="docroot.mpo" value="/h2010/mpo_tomcat" />
	<property name="docroot.fo2" value="/h2010/fo2_tomcat" />
	<property name="docroot.mo2" value="/h2010/mo2_tomcat" />
	<property name="docroot.bo2" value="/h2010/bo2_tomcat" />
	<property name="docroot.batch" value="/usr1/home/xclass/EC_BATCH/JAVA_APP_TEST" />

	<!-- real server inmo -->
	<!-- <property name="user.id" value="jeus" />
	<property name="user.pwd" value="8Yqi4q(1=Z" /> -->



	<!-- ================================================== -->
	<!-- check -->
	<!-- ================================================== -->



	<!-- ================================================== -->
	<!-- default target -->
	<!-- ================================================== -->
	<target name="help">
		<echo>command1 : mcglinit [deploy id]</echo>
		<echo>command2 : mcgldeploy [deploy id]</echo>
		<echo>command2 : mcglsync [deploy id]</echo>
	</target>



	<!-- ================================================== -->
	<!-- init -->
	<!-- ================================================== -->
	<!-- old tar delete -->
	<target name="del_mo_tar">
		<delete file="${docroot.mo}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_fo_tar">
		<delete file="${docroot.fo}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_bo_tar">
		<delete file="${docroot.bo}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_mcgl_tar">
		<delete file="${docroot.mcgl}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_gl_tar">
		<delete file="${docroot.gl}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_bo2_tar">
		<delete file="${docroot.bo2}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_fo2_tar">
		<delete file="${docroot.fo2}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_mo2_tar">
		<delete file="${docroot.mo2}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_mpo_tar">
		<delete file="${docroot.mpo}/${dep.id}_WAS.tar" />
	</target>
	<target name="del_batch_tar">
		<delete file="${docroot.batch}/${dep.id}_WAS.tar" />
	</target>
	
	<!-- ================================================== -->
	<!-- all deploy -->
	<!-- ================================================== -->
	<target name="deployfortest_mo">
		<antcall target="clean_mo" />
		<antcall target="untar_mo" />
	</target>
	<target name="deployfortest_fo">
		<antcall target="clean_fo" />
		<antcall target="untar_fo" />
	</target>
	<target name="deployfortest_bo">
		<antcall target="clean_bo" />
		<antcall target="untar_bo" />
	</target>
	<target name="deployfortest_mcgl">
		<antcall target="clean_mcgl" />
		<antcall target="untar_mcgl" />
	</target>
	<target name="deployfortest_gl">
		<antcall target="clean_gl" />
		<antcall target="untar_gl" />
	</target>
	<target name="deployfortest_bo2">
		<antcall target="clean_bo2" />
		<antcall target="untar_bo2" />
	</target>
	<target name="deployfortest_fo2">
		<antcall target="clean_fo2" />
		<antcall target="untar_fo2" />
	</target>
	<target name="deployfortest_mo2">
		<antcall target="clean_mo2" />
		<antcall target="untar_mo2" />
	</target>
	<target name="deployfortest_mpo">
		<antcall target="clean_mpo" />
		<antcall target="untar_mpo" />
	</target>
	<target name="deployfortest_batch">
		<antcall target="clean_batch" />
		<antcall target="untar_batch" />
	</target>
	
	<!-- ================================================== -->
	<!-- old docroot move [backup] -->
	<!-- ================================================== -->
	<target name="clean_fo">
		<antcall target="clean_fo_was" />
	</target>
	<target name="clean_mo">
		<antcall target="clean_mo_was" />
	</target>
	<target name="clean_mcgl">
		<antcall target="clean_mcgl_was" />
	</target>
	<target name="clean_gl">
		<antcall target="clean_gl_was" />
	</target>
	<target name="clean_bo">
		<antcall target="clean_pro_was" />
		<antcall target="clean_cc_was" />
	<antcall target="clean_po_was" />
	</target>
	<target name="clean_fo2">
		<antcall target="clean_fo2_was" />
	</target>
	<target name="clean_mo2">
		<antcall target="clean_mo2_was" />
	</target>
	<target name="clean_bo2">
		<antcall target="clean_pro2_was" />
	<antcall target="clean_cc2_was" />
		<antcall target="clean_po2_was" />
	</target>
	<target name="clean_mpo">
		<antcall target="clean_mpo_was" />
	</target>
	<target name="clean_batch">
		<antcall target="clean_batch_was" />
	</target>
	
	<target name="clean_fo_was">
		<delete verbose="true">
			<dirset dir="${docroot.fo}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.fo}/webapp" tofile="${docroot.fo}/z_webapp" failonerror="false" />
		<move file="${docroot.fo}/APP-INF" tofile="${docroot.fo}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_fo_web">
		<delete verbose="true">
			<dirset dir="${docroot.fo}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.fo}/webroot" tofile="${docroot.fo}/z_webroot" failonerror="false" />
	</target>

	<target name="clean_mo_was">
		<delete verbose="true">
			<dirset dir="${docroot.mo}">
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.mo}/webapp" tofile="${docroot.mo}/z_webapp" failonerror="false" />
	</target>
	<target name="clean_mo_web">
		<delete verbose="true">
			<dirset dir="${docroot.mo}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.mo}/webroot" tofile="${docroot.mo}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_mcgl_was">
		<delete verbose="true">
			<dirset dir="${docroot.mcgl}">
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.mcgl}/webapp" tofile="${docroot.mcgl}/z_webapp" failonerror="false" />
	</target>
	<target name="clean_mcgl_web">
		<delete verbose="true">
			<dirset dir="${docroot.mcgl}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.mcgl}/webroot" tofile="${docroot.mcgl}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_gl_was">
			<delete verbose="true">
				<dirset dir="${docroot.gl}">
					<include name="z_webapp" />
				</dirset>
			</delete>
			<move file="${docroot.gl}/webapp" tofile="${docroot.gl}/z_webapp" failonerror="false" />
		</target>
		<target name="clean_gl_web">
			<delete verbose="true">
				<dirset dir="${docroot.gl}">
					<include name="z_webroot" />
				</dirset>
			</delete>
			<move file="${docroot.gl}/webroot" tofile="${docroot.gl}/z_webroot" failonerror="false" />
		</target>
	<target name="clean_pro_was">
		<delete verbose="true">
			<dirset dir="${docroot.bo}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.bo}/webapp" tofile="${docroot.bo}/z_webapp" failonerror="false" />
		<move file="${docroot.bo}/APP-INF" tofile="${docroot.bo}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_pro_web">
		<delete verbose="true">
			<dirset dir="${docroot.bo}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.bo}/webroot" tofile="${docroot.bo}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_po_was">
		<delete verbose="true">
			<dirset dir="${docroot.po}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.po}/webapp" tofile="${docroot.po}/z_webapp" failonerror="false" />
		<move file="${docroot.po}/APP-INF" tofile="${docroot.po}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_po_web">
		<delete verbose="true">
			<dirset dir="${docroot.po}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.po}/webroot" tofile="${docroot.po}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_cc_was">
		<delete verbose="true">
			<dirset dir="${docroot.cc}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.cc}/webapp" tofile="${docroot.cc}/z_webapp" failonerror="false" />
		<move file="${docroot.cc}/APP-INF" tofile="${docroot.cc}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_mpo_was">
			<delete verbose="true">
				<dirset dir="${docroot.mpo}">
					<include name="z_APP-INF" />
					<include name="z_webapp" />
				</dirset>
			</delete>
			<move file="${docroot.mpo}/webapp" tofile="${docroot.mpo}/z_webapp" failonerror="false" />
			<move file="${docroot.mpo}/APP-INF" tofile="${docroot.mpo}/z_APP-INF" failonerror="false" />
		</target>
	<target name="clean_cc_web">
		<delete verbose="true">
			<dirset dir="${docroot.mpo}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.cc}/webroot" tofile="${docroot.cc}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_fo2_was">
		<delete verbose="true">
			<dirset dir="${docroot.fo2}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.fo2}/webapp" tofile="${docroot.fo2}/z_webapp" failonerror="false" />
		<move file="${docroot.fo2}/APP-INF" tofile="${docroot.fo2}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_fo2_web">
		<delete verbose="true">
			<dirset dir="${docroot.fo2}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.fo2}/webroot" tofile="${docroot.fo2}/z_webroot" failonerror="false" />
	</target>

	<target name="clean_mo2_was">
		<delete verbose="true">
			<dirset dir="${docroot.mo2}">
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.mo2}/webapp" tofile="${docroot.mo2}/z_webapp" failonerror="false" />
	</target>
	<target name="clean_mo2_web">
		<delete verbose="true">
			<dirset dir="${docroot.mo2}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.mo2}/webroot" tofile="${docroot.mo2}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_pro2_was">
		<delete verbose="true">
			<dirset dir="${docroot.bo2}">
				<include name="z_APP-INF" />
				<include name="z_webapp" />
			</dirset>
		</delete>
		<move file="${docroot.bo2}/webapp" tofile="${docroot.bo2}/z_webapp" failonerror="false" />
		<move file="${docroot.bo2}/APP-INF" tofile="${docroot.bo2}/z_APP-INF" failonerror="false" />
	</target>
	<target name="clean_pro2_web">
		<delete verbose="true">
			<dirset dir="${docroot.bo2}">
				<include name="z_webroot" />
			</dirset>
		</delete>
		<move file="${docroot.bo2}/webroot" tofile="${docroot.bo2}/z_webroot" failonerror="false" />
	</target>
	<target name="clean_batch_was">
		<delete verbose="true">
			<dirset dir="${docroot.batch}">
				<include name="z_bin"/>
				<include name="z_classes" />
				<include name="z_conf"/>
				<include name="z_ebay"/>
				<include name="z_lib" />
				<include name="z_shell" />
				<include name="z_tmall"/>			
			</dirset>
		</delete>
		<move file="${docroot.batch}/bin" tofile="${docroot.batch}/z_bin" failonerror="false" />
		<move file="${docroot.batch}/classes" tofile="${docroot.batch}/z_classes" failonerror="false" />
		<move file="${docroot.batch}/conf" tofile="${docroot.batch}/z_conf" failonerror="false" />
		<move file="${docroot.batch}/ebay" tofile="${docroot.batch}/z_ebay" failonerror="false" />
		<move file="${docroot.batch}/lib" tofile="${docroot.batch}/z_lib" failonerror="false" />
		<move file="${docroot.batch}/shell" tofile="${docroot.batch}/z_shell" failonerror="false" />
		<move file="${docroot.batch}/tmall" tofile="${docroot.batch}/z_tmall" failonerror="false" />
	</target>

	<!-- ================================================== -->
	<!-- untar -->
	<!-- ================================================== -->
	<target name="untar_fo">
		<antcall target="untar_fo_was" />
	</target>
	<target name="untar_mo">
		<antcall target="untar_mo_was" />
	</target>
	<target name="untar_mcgl">
		<antcall target="untar_mcgl_was" />
	</target>
	<target name="untar_gl">
		<antcall target="untar_gl_was" />
	</target>
	<target name="untar_bo">
		<antcall target="untar_pro_was" />
		<antcall target="untar_po_was" />
		<antcall target="untar_cc_was" />
	</target>
	<target name="untar_fo2">
		<antcall target="untar_fo2_was" />
	</target>
	<target name="untar_mpo">
		<antcall target="untar_mpo_was" />
	</target>
	<target name="untar_mo2">
		<antcall target="untar_mo2_was" />
	</target>
	<target name="untar_bo2">
		<antcall target="untar_pro2_was" />
		<!--<antcall target="untar_po2_was" />
            <antcall target="untar_po2_web" />
		<antcall target="untar_cc2_was" />
		<antcall target="untar_cc2_web" />-->
	</target>
	<target name="untar_batch">
		<antcall target="untar_batch_was" />
	</target>
	<!-- untar fo -->
	<target name="untar_fo_was">
		<untar src="${docroot.fo}/${dep.id}_WAS.tar" dest="${docroot.fo}" overwrite="yes" />
	</target>
	<target name="untar_fo_web">
		<untar src="${docroot.fo}/${dep.id}_WEB.tar" dest="${docroot.fo}" overwrite="yes" />
	</target>
	<!-- untar mo -->
	<target name="untar_mo_was">
		<untar src="${docroot.mo}/${dep.id}_WAS.tar" dest="${docroot.mo}" overwrite="yes" />
	</target>
	<target name="untar_mo_web">
		<untar src="${docroot.mo}/${dep.id}_WEB.tar" dest="${docroot.mo}" overwrite="yes" />
	</target>
	<!-- untar mcgl -->
	<target name="untar_mcgl_was">
		<untar src="${docroot.mcgl}/${dep.id}_WAS.tar" dest="${docroot.mcgl}" overwrite="yes" />
	</target>
	<target name="untar_mcgl_web">
		<untar src="${docroot.mcgl}/${dep.id}_WEB.tar" dest="${docroot.mcgl}" overwrite="yes" />
	</target>
	<!-- untar gl -->
	<target name="untar_gl_was">
		<untar src="${docroot.gl}/${dep.id}_WAS.tar" dest="${docroot.gl}" overwrite="yes" />
	</target>
	<target name="untar_gl_web">
		<untar src="${docroot.gl}/${dep.id}_WEB.tar" dest="${docroot.gl}" overwrite="yes" />
	</target>
	<!-- untar bo -->
	<target name="untar_pro_was">
		<untar src="${docroot.bo}/${dep.id}_WAS.tar" dest="${docroot.bo}" overwrite="yes" />
	</target>
	<target name="untar_pro_web">
		<untar src="${docroot.bo}/${dep.id}_WEB.tar" dest="${docroot.bo}" overwrite="yes" />
	</target>
	<target name="untar_po_was">
		<untar src="${docroot.bo}/${dep.id}_WAS.tar" dest="${docroot.po}" overwrite="yes" />
	</target>
	<target name="untar_po_web">
		<untar src="${docroot.bo}/${dep.id}_WEB.tar" dest="${docroot.po}" overwrite="yes" />
	</target>
	<target name="untar_cc_was">
		<untar src="${docroot.bo}/${dep.id}_WAS.tar" dest="${docroot.cc}" overwrite="yes" />
	</target>
	<target name="untar_cc_web">
		<untar src="${docroot.bo}/${dep.id}_WEB.tar" dest="${docroot.cc}" overwrite="yes" />
	</target>
	<target name="untar_mpo_was">
		<untar src="${docroot.mpo}/${dep.id}_WAS.tar" dest="${docroot.mpo}" overwrite="yes" />
	</target>
	<!-- untar fo2 -->
	<target name="untar_fo2_was">
		<untar src="${docroot.fo2}/${dep.id}_WAS.tar" dest="${docroot.fo2}" overwrite="yes" />
	</target>
	<target name="untar_fo2_web">
		<untar src="${docroot.fo2}/${dep.id}_WEB.tar" dest="${docroot.fo2}" overwrite="yes" />
	</target>
	<!-- untar mo -->
	<target name="untar_mo2_was">
		<untar src="${docroot.mo2}/${dep.id}_WAS.tar" dest="${docroot.mo2}" overwrite="yes" />
	</target>
	<target name="untar_mo2_web">
		<untar src="${docroot.mo2}/${dep.id}_WEB.tar" dest="${docroot.mo2}" overwrite="yes" />
	</target>
	<!-- untar bo2 -->
	<target name="untar_pro2_was">
		<untar src="${docroot.bo2}/${dep.id}_WAS.tar" dest="${docroot.bo2}" overwrite="yes" />
	</target>
	<target name="untar_pro2_web">
		<untar src="${docroot.bo2}/${dep.id}_WEB.tar" dest="${docroot.bo2}" overwrite="yes" />
	</target>
	<!--<target name="untar_po2_was">
		<untar src="${docroot.bo2}/${dep.id}_WAS.tar" dest="${docroot.po2}" overwrite="yes" />
	</target>
	<target name="untar_po2_web">
		<untar src="${docroot.bo2}/${dep.id}_WEB.tar" dest="${docroot.po2}" overwrite="yes" />
	</target>
	<target name="untar_cc2_was">
		<untar src="${docroot.bo2}/${dep.id}_WAS.tar" dest="${docroot.cc2}" overwrite="yes" />
	</target>
	<target name="untar_cc2_web">
		<untar src="${docroot.bo2}/${dep.id}_WEB.tar" dest="${docroot.cc2}" overwrite="yes" />
	</target>-->
	<target name="untar_batch_was">
		<untar src="${docroot.batch}/${dep.id}_WAS.tar" dest="${docroot.batch}" overwrite="yes" />
	</target>
</project>
